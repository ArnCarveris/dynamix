<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>DynaMix: dynamix::internal::default_allocator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DynaMix
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">A new take on polymorphism in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classdynamix_1_1internal_1_1default__allocator.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classdynamix_1_1internal_1_1default__allocator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dynamix::internal::default_allocator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;allocators.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4074040c07b2c4ad1df5a59b4af4cb4d"><td class="memItemLeft" align="right" valign="top">virtual char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamix_1_1internal_1_1default__allocator.html#a4074040c07b2c4ad1df5a59b4af4cb4d">alloc_mixin_data</a> (size_t count) override</td></tr>
<tr class="separator:a4074040c07b2c4ad1df5a59b4af4cb4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bb2e3e007a0b0b53c016b2541e278a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamix_1_1internal_1_1default__allocator.html#a67bb2e3e007a0b0b53c016b2541e278a">dealloc_mixin_data</a> (char *ptr) override</td></tr>
<tr class="separator:a67bb2e3e007a0b0b53c016b2541e278a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb287ebb883e915398138d87a6664a7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamix_1_1internal_1_1default__allocator.html#acdb287ebb883e915398138d87a6664a7">alloc_mixin</a> (size_t mixin_size, size_t mixin_alignment, char *&amp;out_buffer, size_t &amp;out_mixin_offset) override</td></tr>
<tr class="separator:acdb287ebb883e915398138d87a6664a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a2c46483b39b38c27e1e2030099053"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamix_1_1internal_1_1default__allocator.html#a35a2c46483b39b38c27e1e2030099053">dealloc_mixin</a> (char *ptr) override</td></tr>
<tr class="separator:a35a2c46483b39b38c27e1e2030099053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45918236ae23aa7497419bfca2727c6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac45918236ae23aa7497419bfca2727c6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>has_allocated</b> () const </td></tr>
<tr class="separator:ac45918236ae23aa7497419bfca2727c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:abe867b6e7e4c2497fbfe1f420e0787b2"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamix_1_1global__allocator.html#abe867b6e7e4c2497fbfe1f420e0787b2">calculate_mem_size_for_mixin</a> (size_t mixin_size, size_t mixin_alignment)</td></tr>
<tr class="separator:abe867b6e7e4c2497fbfe1f420e0787b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a31f7158cbab48a02eb1601a1d32171"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamix_1_1global__allocator.html#a0a31f7158cbab48a02eb1601a1d32171">calculate_mixin_offset</a> (const char *buffer, size_t mixin_alignment)</td></tr>
<tr class="separator:a0a31f7158cbab48a02eb1601a1d32171"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a62df266a482dbe66dd81a043695477b5"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamix_1_1global__allocator.html#a62df266a482dbe66dd81a043695477b5">mixin_data_size</a> = sizeof(<a class="el" href="classdynamix_1_1internal_1_1mixin__data__in__object.html">internal::mixin_data_in_object</a>)</td></tr>
<tr class="separator:a62df266a482dbe66dd81a043695477b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad12c2cbc23f025ffbc34ccfcb9792d7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad12c2cbc23f025ffbc34ccfcb9792d7f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_has_allocated</b></td></tr>
<tr class="separator:ad12c2cbc23f025ffbc34ccfcb9792d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The default allocator.</p>
<p>Used internally by the library, where no custom allocators are provided. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4074040c07b2c4ad1df5a59b4af4cb4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual char* dynamix::internal::default_allocator::alloc_mixin_data </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pure virtual. Should return a valid pointer to an array with the size of <code>count</code> <code><a class="el" href="classdynamix_1_1internal_1_1mixin__data__in__object.html">mixin_data_in_object</a></code> instances.</p>
<p>Use the static constant <code>mixin_data_size</code> to get the size of a single <code><a class="el" href="classdynamix_1_1internal_1_1mixin__data__in__object.html">mixin_data_in_object</a></code></p>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">char</span>* my_allocator::alloc_mixin_data(<span class="keywordtype">size_t</span> count)</div><div class="line">{</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">new</span> <span class="keywordtype">char</span>[count * <a class="code" href="classdynamix_1_1global__allocator.html#a62df266a482dbe66dd81a043695477b5">mixin_data_size</a>];</div><div class="line">}</div></div><!-- fragment --> </dd></dl>

<p>Implements <a class="el" href="classdynamix_1_1global__allocator.html#a4a695a6322e72b37f4a2b1fc745f9b4f">dynamix::global_allocator</a>.</p>

</div>
</div>
<a class="anchor" id="a67bb2e3e007a0b0b53c016b2541e278a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void dynamix::internal::default_allocator::dealloc_mixin_data </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pure virtual. Should free the memory that has been obtained via a call to <code>alloc_mixin_data</code>. </p>

<p>Implements <a class="el" href="classdynamix_1_1global__allocator.html#a59b2294e81dd7adf96c885d286a12c3b">dynamix::global_allocator</a>.</p>

</div>
</div>
<a class="anchor" id="acdb287ebb883e915398138d87a6664a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void dynamix::internal::default_allocator::alloc_mixin </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mixin_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mixin_alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&amp;&#160;</td>
          <td class="paramname"><em>out_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>out_mixin_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pure virtual. Should return memory for a mixin instance. The library will request a buffer in which to put the mixin. Overrides of this method should fill the output parameters with the address of the allocated memory and the offset of the mixin (according to the alignment) BUT IN SUCH A WAY AS TO ALLOW A POINTER TO BE PLACED IN FRONT</p>
<p>You may use <code>calculate_mem_size_for_mixin</code> and <code>calculate_mixin_offset</code> if you're not sure what to do.</p>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> your_allocator::alloc_mixin(<span class="keywordtype">size_t</span> mixin_size, <span class="keywordtype">size_t</span> mixin_alignment, <span class="keywordtype">char</span>*&amp; out_buffer, <span class="keywordtype">size_t</span>&amp; out_mixin_offset)</div><div class="line">{</div><div class="line">    <span class="keywordtype">size_t</span> mem_size = <a class="code" href="classdynamix_1_1global__allocator.html#abe867b6e7e4c2497fbfe1f420e0787b2">calculate_mem_size_for_mixin</a>(mixin_size, mixin_alignment);</div><div class="line">    out_buffer = <span class="keyword">new</span> <span class="keywordtype">char</span>[mem_size];</div><div class="line"></div><div class="line">    out_mixin_offset = <a class="code" href="classdynamix_1_1global__allocator.html#a0a31f7158cbab48a02eb1601a1d32171">calculate_mixin_offset</a>(out_buffer, mixin_alignment);</div><div class="line">}</div></div><!-- fragment --> </dd></dl>

<p>Implements <a class="el" href="classdynamix_1_1global__allocator.html#a864dab150684539600ae86a732346e6d">dynamix::global_allocator</a>.</p>

</div>
</div>
<a class="anchor" id="a35a2c46483b39b38c27e1e2030099053"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void dynamix::internal::default_allocator::dealloc_mixin </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pure virtual. Should free the memory that has been obtained via a call to <code>alloc_mixin</code>. </p>

<p>Implements <a class="el" href="classdynamix_1_1global__allocator.html#a739434366f136363c5da4de22c86918f">dynamix::global_allocator</a>.</p>

</div>
</div>
<a class="anchor" id="abe867b6e7e4c2497fbfe1f420e0787b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t dynamix::global_allocator::calculate_mem_size_for_mixin </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mixin_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mixin_alignment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Calculates appropriate size for a mixin buffer so as to satisfy the requirements of mixin size and alignment AND leave a room for its owning object in front.</p>
<p>You may use it in your overrides of <code>alloc_mixin</code> to determine the appropriate memory size. </p>

</div>
</div>
<a class="anchor" id="a0a31f7158cbab48a02eb1601a1d32171"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t dynamix::global_allocator::calculate_mixin_offset </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mixin_alignment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Calculates the appropriate offset of the mixin in the buffer so as to satisfy the requirements of its alignment AND leave a room for its owning object in front.</p>
<p>You may use it in your overrides of <code>alloc_mixin</code> to determine the correct mixin_offset. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a62df266a482dbe66dd81a043695477b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t dynamix::global_allocator::mixin_data_size = sizeof(<a class="el" href="classdynamix_1_1internal_1_1mixin__data__in__object.html">internal::mixin_data_in_object</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Size of <code>mixin_data_in_object</code></p>
<p>Use this to determine how many bytes you'll allocate for single mixin data in <code>alloc_mixin_data</code> </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="allocators_8hpp.html">allocators.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>dynamix</b></li><li class="navelem"><b>internal</b></li><li class="navelem"><a class="el" href="classdynamix_1_1internal_1_1default__allocator.html">default_allocator</a></li>
    <li class="footer">Generated on Sat Feb 25 2017 22:08:59 for DynaMix by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
